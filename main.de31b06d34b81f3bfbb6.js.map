{"version":3,"file":"main.de31b06d34b81f3bfbb6.js","mappings":"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","sources":["webpack://webpack-project/webpack/bootstrap","webpack://webpack-project/webpack/runtime/publicPath","webpack://webpack-project/./src/app/modules/utilities.js","webpack://webpack-project/./src/app/modules/pop.js","webpack://webpack-project/./src/app/modules/evenListeners.js","webpack://webpack-project/./src/app/modules/like.js","webpack://webpack-project/./src/app/modules/comment.js","webpack://webpack-project/./src/app/modules/render.js","webpack://webpack-project/./src/index.js"],"sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.p = \"\";","/* eslint-disable linebreak-style */\r\nexport const ul = document.querySelector('.listContainer');\r\nexport const appID = 'cuSc6vNb8MIaUDaK4qjK';\r\nconst ulNav = document.querySelector('.nav-wrapper');\r\nexport const liNav = ulNav.querySelector('.nav-element');\r\nconst baseURL = 'https://api.punkapi.com/v2/';\r\nconst likesBaseURL = 'https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/';\r\n\r\nexport default async function apiCall(urlExtension = '', method = '', body, involment = false) {\r\n  let response;\r\n  if (!method || method === 'GET') {\r\n    response = await fetch(involment ? likesBaseURL + urlExtension : baseURL + urlExtension, {\r\n      method: !method ? 'GET' : method,\r\n      headers: {\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    });\r\n  } else {\r\n    response = await fetch(involment ? likesBaseURL + urlExtension : baseURL + urlExtension, {\r\n      method: !method ? 'GET' : method,\r\n      body: JSON.stringify(body),\r\n      headers: {\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    });\r\n  }\r\n  return involment ? response.text() : response.json();\r\n}\r\n\r\nexport const error = (message = '') => {\r\n  const error = `An error has ocurred ${message}`;\r\n  console.log(error);\r\n};\r\n\r\nexport const getComments = async (beerId) => {\r\n  try {\r\n    const response = await apiCall(`${appID}/comments?item_id=${beerId}`, 'GET', {}, true);\r\n    const res = JSON.parse(response);\r\n    if (res.error) {\r\n      throw new Error(res.error);\r\n    }\r\n    return JSON.parse(response);\r\n  } catch (err) {\r\n    error(err);\r\n    return [];\r\n  }\r\n};\r\n","/* eslint-disable linebreak-style */\r\n/* eslint-disable camelcase */\r\nexport const modalBtn = document.querySelector('.detailsBtn');\r\nexport const overlay = document.querySelector('.overlay');\r\nexport const popUp = document.querySelector('.pop-up');\r\n\r\nexport const closePopUpHandler = (closePopUpBtn) => {\r\n  overlay.classList.add('hidden');\r\n  closePopUpBtn.removeEventListener('click', closePopUpHandler);\r\n};\r\n\r\nexport const renderComments = (comments = []) => {\r\n  const commentContainer = document.querySelector('.comments-display');\r\n  comments.forEach((data) => {\r\n    const { username, comment, creation_date } = data;\r\n    const newComment = `<p>${creation_date} ${username}:${comment}</p>`;\r\n    commentContainer.innerHTML += newComment;\r\n  });\r\n};\r\n","/* eslint-disable linebreak-style */\r\nimport { ul } from './utilities.js';\r\nimport like from './like.js';\r\nimport comment from './comment.js';\r\n\r\nconst eventListeners = (onclick = () => {}, beersInfo) => {\r\n  const listChildrens = Array.from(ul.children);\r\n  listChildrens.forEach((_, i) => {\r\n    const button = listChildrens[i].querySelector('.detailsBtn');\r\n    const likeBtn = listChildrens[i].querySelector('.fa-heart');\r\n    const commentBtn = listChildrens[i].querySelector('.commentBtn');\r\n    button.addEventListener('click', () => onclick(beersInfo[i], i));\r\n    likeBtn.addEventListener('click', () => like(beersInfo[i]));\r\n    commentBtn.addEventListener('click', () => comment(beersInfo[i]));\r\n  });\r\n};\r\n\r\nexport default eventListeners;","/* eslint-disable linebreak-style */\nimport apiCall, { appID, error, ul } from './utilities.js';\n\nconst like = async (beerLike) => {\n  try {\n    const beerID = {\n      item_id: beerLike.id,\n    };\n    await apiCall(`${appID}/likes`, 'POST', beerID, true);\n    const likeContainer = ul.children[beerLike.id - 1].querySelector('.beer-title').querySelector('.likes');\n    const likeNumber = Number(likeContainer.getElementsByTagName('p')[0].textContent);\n    likeContainer.children[1].innerHTML = `<p>${likeNumber + 1}</p>`;\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport default like;","/* eslint-disable linebreak-style */\r\n/* eslint-disable no-alert */\r\nimport { overlay, popUp, closePopUpHandler } from './pop.js';\r\nimport apiCall, { appID, error, getComments } from './utilities.js';\r\n\r\nconst sendComment = async (e, beerInfo) => {\r\n  try {\r\n    e.preventDefault();\r\n    const form = document.querySelector('#addPost');\r\n    const itemId = beerInfo.id;\r\n    const username = form.children[0].value;\r\n    const comment = document.querySelector('#comment').value;\r\n    const newComment = {\r\n      item_id: itemId,\r\n      username,\r\n      comment,\r\n    };\r\n    await apiCall(`${appID}/comments`, 'POST', newComment, true);\r\n    form.children[0].value = '';\r\n    document.querySelector('#comment').value = '';\r\n    window.alert('Comment added!');\r\n  } catch (err) {\r\n    error(err);\r\n  }\r\n};\r\n\r\nconst comments = async (beerInfo) => {\r\n  overlay.classList.remove('hidden');\r\n  const comment = await getComments(beerInfo.id);\r\n  const commentNo = comment.length === 0 || comment.length === undefined ? 0 : comment.length;\r\n  popUp.innerHTML = `\r\n                \r\n                <div class=\"pop-content\">\r\n                  <h3>Add Comment</h3>\r\n                  <div class=\"beer-title\">\r\n                  <div class=\"comment\"><i class=\"fa fa-calculator\"></i> <p>Total of comments ${commentNo}</p></div>\r\n                    <button class=\"close-pop-up\" >&times;</button>\r\n                    <form id=\"addPost\" action=\"/\" method=\"\">\r\n                      <input type=\"text\" id=\"fname\" name=\"fname\" placeholder=\"Your Name\"><br><br>\r\n                      <textarea name=\"textarea\" id=\"comment\" placeholder=\"Your insight\"></textarea>\r\n                      <input type=\"submit\" class=\"add\" id=\"add\" value=\"Comment\">\r\n                    </form>                  \r\n                  </div>\r\n                  \r\n                </div>`;\r\n  const submit = document.getElementById('addPost');\r\n  const closePopUpBtn = document.querySelector('.close-pop-up');\r\n  closePopUpBtn.addEventListener('click', () => closePopUpHandler(closePopUpBtn));\r\n  submit.addEventListener('submit', (e) => sendComment(e, beerInfo));\r\n};\r\n\r\nexport default comments;\r\n","/* eslint-disable linebreak-style */\r\n/* eslint-disable object-curly-newline */\r\n/* eslint-disable no-trailing-spaces */\r\nimport apiCall, { error, ul, appID, liNav, getComments } from './utilities.js';\r\nimport eventListeners from './evenListeners.js';\r\nimport { closePopUpHandler, overlay, popUp, renderComments } from './pop.js';\r\n\r\nlet beerElement;\r\n\r\nclass Render { \r\n  refresh = async () => {\r\n    try {\r\n      const response = await apiCall('beers');\r\n      return response;\r\n    } catch (err) { \r\n      error(err);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  openPopup = async (beersInfo) => {\r\n    overlay.classList.remove('hidden');\r\n    const comments = await getComments(beersInfo.id);\r\n    popUp.innerHTML = `\r\n                <button class=\"close-pop-up\" >&times;</button>\r\n                <div class=\"pop-content\">\r\n                  <img class=\"image\" src=\"${beersInfo.image_url}\" alt=\"${beersInfo.name}\"></img>\r\n                  <div class=\"beer-title\">\r\n                    <p>${beersInfo.name}</p>\r\n                    <p class=\"likes\"><i class=\"far fa-heart\"></i> 5</p>\r\n                  </div>\r\n                  <div class=\"comments-display\">\r\n                    <h5>Comments (${comments.length})</h5>\r\n                  </div>\r\n                </div>`;\r\n    const closePopUpBtn = document.querySelector('.close-pop-up');\r\n    closePopUpBtn.addEventListener('click', () => closePopUpHandler(closePopUpBtn));\r\n    renderComments(comments);\r\n  }\r\n\r\n  numberOfItems = (beersLength = 0) => {\r\n    const beerNumber = `<p>Beers Available(${beersLength})</p>`;\r\n    liNav.innerHTML = beerNumber;\r\n  }\r\n\r\n  likesNumber = async () => {\r\n    try {\r\n      const response = await apiCall(`${appID}/likes`, 'GET', {}, true);\r\n      return JSON.parse(response);\r\n    } catch (err) { \r\n      error(err);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  createApp = async () => {\r\n    try {\r\n      const response = await apiCall('', 'POST', { name: 'newAppMiguel' }, true);\r\n      appID = response;\r\n    } catch (err) {\r\n      error(err);\r\n      appID = '';\r\n    }\r\n  }\r\n\r\n  async reloadHTML() {\r\n    if (!appID) {\r\n      this.createApp();\r\n    }\r\n    const likes = await this.likesNumber();\r\n    const beers = await this.refresh();\r\n    this.numberOfItems(beers.length);\r\n    ul.innerHTML = '';\r\n    beers.forEach((data) => {\r\n      /* eslint-disable */\r\n      const { name, image_url, id } = data;\r\n      /* eslint-disable */\r\n      const findLikes = likes.find(value => value.item_id === id)\r\n      const amountOfLikes = !findLikes ? 0  : findLikes.likes;\r\n      beerElement = `\r\n            <li >\r\n              <img class=\"image\" src=\"${image_url}\" alt=\"${name}\"></img>\r\n              <div class=\"beer-title\">\r\n                <p>${name}</p>\r\n                <div class=\"likes\"><i class=\"far fa-heart\"></i> <p>${amountOfLikes}</p></div>\r\n              </div>\r\n              <button class=\"commentBtn\" type=\"button\" >COMMENT</button>\r\n              <button class=\"detailsBtn\" type=\"button\">DETAILS</button>\r\n            </li>`;\r\n      ul.innerHTML += beerElement;\r\n    });\r\n    eventListeners(this.openPopup, beers);\r\n  }\r\n}\r\n\r\n\r\nexport default Render;","/* eslint-disable linebreak-style */\r\n/* eslint-disable import/extensions */\r\n/* eslint-disable import/no-unresolved */\r\nimport './main.scss';\r\nimport logo from './resources/newLogo.jpg';\r\nimport Render from './app/modules/render.js';\r\n\r\nconst init = () => {\r\n  const myIcon = new Image();\r\n  myIcon.src = logo;\r\n  myIcon.alt = 'logo';\r\n  document.querySelector('.logo-container').appendChild(myIcon);\r\n\r\n  const render = new Render();\r\n  render.reloadHTML();\r\n};\r\n\r\ninit();"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","p","ul","document","querySelector","appID","liNav","baseURL","likesBaseURL","async","apiCall","urlExtension","method","body","involment","response","fetch","JSON","stringify","headers","text","json","error","message","console","log","getComments","beerId","res","parse","Error","err","overlay","popUp","closePopUpHandler","closePopUpBtn","classList","add","removeEventListener","onclick","beersInfo","listChildrens","Array","from","children","forEach","_","i","button","likeBtn","commentBtn","addEventListener","beerLike","beerID","item_id","id","likeContainer","likeNumber","Number","getElementsByTagName","textContent","innerHTML","beerInfo","remove","comment","commentNo","length","submit","getElementById","e","preventDefault","form","newComment","username","value","window","alert","sendComment","beerElement","myIcon","Image","src","alt","appendChild","refresh","openPopup","comments","image_url","name","commentContainer","data","creation_date","renderComments","numberOfItems","beersLength","beerNumber","likesNumber","createApp","this","likes","beers","findLikes","find","amountOfLikes","reloadHTML","init"],"sourceRoot":""}